<!DOCTYPE html>
<html>
<head>
    <title>New Horizons Factors Project</title>

    <!-- Include css -->
    <link rel="stylesheet" type="text/css" href="stylesheets/main.css" />

    <!-- Include jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
</head>
<body>
    <nav id="site-navigation">
        <section id="navigation-toggle">
            <div class="row"></div>
            <div class="row"></div>
            <div class="row"></div>
        </section> <!-- #navigation-toggle -->

        <section id="navigation-links">
            <ul>
                <li><a href="#land">Land</a></li>
                <li><a href="#labor">Labor</a></li>
                <li><a href="#capital">Capital</a></li>
                <li><a href="#entrepreneur">Entrepreneur</a></li>
            </ul>
        </section> <!-- #navigation-links -->
    </nav> <!-- #site-navigation -->

    <main id="main-content">

        <section id="history" class="factor">
            <div class="center-content">
                <section class="content light-text" data-file="history.html"></section>
            </div>
        </section>
        <section id="land" class="factor ">
            <div class="center-content">
                <section class="content">
                    <h1>Land</h1>
                </section> <!-- .content -->
            </div> <!-- .content-container -->

            <section class="background-image dark content-container" style="background-image: url(images/jupiter.png);">
                <section class="content" data-file="land.html"></section>
            </section> <!-- .background-image -->
        </section><!-- #land -->
        <section id="labor" class="factor">
            <div class="center-content">
                <section class="content">
                    <h1>Labor</h1>
                </section> <!-- .content -->
            </div> <!-- .content-container -->

            <div class="center-content">
                <section class="content" data-file="labor.html"></section>
            </div> <!-- .content-container -->
        </section> <!-- #labor -->
        <section id="capital" class="factor">
            <div class="center-content">
                <section class="content">
                    <h1>Capital</h1>
                </section> <!-- .content -->
            </div> <!-- .content-container -->

            <section class="content-container">
                <section class="content" data-file="capital.html"></section>
            </section> <!-- .background-image -->
        </section><!-- #captial -->
        <section id="entrepreneur" class="factor">
            <div class="center-content">
                <section class="content">
                    <h1>Entrepreneur</h1>
                </section> <!-- .content -->
            </div> <!-- .content-container -->

            <div class="content-container">
                <section class="content" data-file="entrepreneur.html"></section>
            </div> <!-- .background-image -->
        </section><!-- #entrepreneur -->

        <script type="text/javascript">
            $( document ).ready( function() {
                $( '#main-content .factor .content[data-file]' ).each( function() {
                    var elem = this;
                    $.get( 'data/html/' + $( this ).attr( 'data-file' ), function( data ) {
                        $( elem ).html( data );
                    });
                } );
            } );

        </script>

        <section id="sources" class="factor">
            <div class="center-content">
                <section class="content"></div>
            </div>

            <script type="text/javascript">
                $( document ).ready( function() {
                    // The dom has loaded.

                    // Include all the sources into the #sources tag.
                    function addSources( data ) {
                        var $sources = $( '#sources .content' ); // Get the sources tag.

                        // Loop through the data and add it to the sources.
                        for ( var i = 0; i < data.length; i++ ) {
                            var $source = $( '<article></article>', { class: 'source' } );

                            // Add the link
                            $source.append( $( '<a></a>', {
                                class: 'source-link',
                                href: data[i].src
                            } ).html( data[i].src ) );

                            // Add the source to the sources.
                            $sources.append( $source );
                        }
                    }

                    $.getJSON( 'data/sources.json', addSources );
                } );
            </script>
        </section> <!-- #sources -->
        <script type="text/javascript">
            $( document ).ready( function() {
                $( '#main-content .factor' ).each( function() {
                    $( this ).prepend( $( '<div></div>', { class: 'background' } ) );
                } );
            } );
        </script>
    </main> <!-- #main-content -->

    <footer id="primary-footer">
        <section id="footer-credits">
            <h3>Site by Sequoia Snow and David Sobek</h3>
        </section>
    </footer>
</body>
</html>
